fn test_syntax_functions_methods_and_ufcs() -> () {
  // SYNTAX:S201 function declaration and return
  // SYNTAX:S202 member call syntax
  // SYNTAX:S203 UFCS call syntax
  // SYNTAX:S204 block expression syntax
  let src: String = """
struct I { v: i32 }
impl I {
  fn inc(x: I) -> i32 { return x.v + 1; }
}
trait Add { fn add(x: Self, y: i32) -> i32; }
impl Add for I { fn add(x: I, y: i32) -> i32 { return x.v + y; } }
fn add1(x: i32) -> i32 {
  let y: i32 = { let z: i32 = x + 1; z };
  return y;
}
fn main() -> i32 {
  let i: I = I { v: 2 };
  return add1(I.inc(i)) + Add.add(i, 3);
}
""";
  syntax_assert_parse_ok("S201-S204", src);
}

fn test_syntax_missing_fn_body_fails() -> () {
  // SYNTAX:S205 malformed function declaration should fail parse
  syntax_assert_parse_fail("S205", "fn f(x: i32) -> i32 fn main() -> i32 { return 0; }");
}
