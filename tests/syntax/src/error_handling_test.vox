fn test_syntax_question_and_try_block_forms() -> () {
  // SYNTAX:S108 question operator (`expr?`)
  // SYNTAX:S109 try block expression (`try { ... }`)
  let src: String = """
enum Result[T, E] { Ok(T), Err(E) }
enum Option[T] { Some(T), None }
fn get(flag: bool) -> Result[i32, String] {
  if flag { return .Ok(1); }
  return .Err("bad");
}
fn get_opt(flag: bool) -> Option[i32] {
  if flag { return .Some(2); }
  return .None;
}
fn f(flag: bool) -> Result[i32, String] {
  let v: i32 = get(flag)?;
  let w: i32 = get_opt(flag)?;
  let y: Result[i32, String] = try {
    let x: i32 = get(flag)?;
    x + v + w
  };
  return y;
}
""";
  syntax_assert_parse_ok("S108-S109", src);
}

fn test_syntax_malformed_try_or_question_fails() -> () {
  // SYNTAX:S110 malformed try/question parse failure
  syntax_assert_parse_fail("S110-try", "fn main() -> i32 { let x = try 1; return x; }");
  syntax_assert_parse_fail("S110-question", "fn main() -> i32 { let x: i32 = ?1; return x; }");
}
