fn test_syntax_trait_impl_forms() -> () {
  // SYNTAX:S401 trait declaration
  // SYNTAX:S402 trait default method body
  // SYNTAX:S403 associated type in trait and impl
  // SYNTAX:S404 supertrait syntax
  // SYNTAX:S405 generic impl head
  // SYNTAX:S406 negative impl syntax
  let src: String = """
trait Base { fn base(x: Self) -> i32; }
trait Iter: Base { type Item; fn next(x: Self) -> Self.Item; fn ready(x: Self) -> bool { return true; } }
struct I { v: i32 }
impl Base for I { fn base(x: I) -> i32 { return x.v; } }
impl Iter for I {
  type Item = i32;
  fn next(x: I) -> i32 { return x.v; }
}
trait Show { fn show(x: Self) -> String; }
impl[T] Show for Vec[T] { fn show(x: Vec[T]) -> String { return x.len().to_string(); } }
struct Ui { id: i32 }
impl !Send for Ui {}
impl !Sync for Ui {}
fn main() -> i32 { let i: I = I { v: 1 }; return Base.base(i) + Iter.next(i); }
""";
  syntax_assert_parse_ok("S401-S406", src);
}

fn test_syntax_invalid_negative_inherent_impl_fails() -> () {
  // SYNTAX:S407 invalid negative inherent impl should fail parse
  syntax_assert_parse_fail("S407", "struct I { v: i32 } impl !I {} fn main() -> i32 { return 0; }");
}
