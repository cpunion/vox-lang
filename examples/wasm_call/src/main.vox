// Export wasm functions with stable symbols for Node/Web callers.

@ffi_export("wasm", "vox_add")
pub fn add(a: i32, b: i32) -> i32 {
  return a + b;
}

@ffi_export("wasm", "vox_fib")
pub fn fib(n: i32) -> i32 {
  if n <= 0 { return 0; }
  if n == 1 { return 1; }

  let mut a: i32 = 0;
  let mut b: i32 = 1;
  let mut i: i32 = 2;
  while i <= n {
    let next: i32 = a + b;
    a = b;
    b = next;
    i = i + 1;
  }
  return b;
}

fn main() -> i32 {
  return 0;
}
