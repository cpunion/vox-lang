// Generics + struct + enum + match + Vec + String intrinsics.

fn id[T](x: T) -> T { return x; }

struct Point { pub x: i32, pub y: i32 }

enum OptionI32 { Some(i32), None }

fn main() -> i32 {
  let p: Point = Point { x: 1, y: 2 };

  let mut v: Vec[i32] = Vec();
  v.push(p.x + p.y);

  let o: OptionI32 = .Some(v.get(0));
  let r: i32 = match o { .Some(x) => x, .None => 0 };

  print("r=".concat(r.to_string()));
  return id(r);
}
