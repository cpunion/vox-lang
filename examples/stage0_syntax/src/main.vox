// stage0 syntax demo: struct + enum(payload) + match + basic expressions.

struct Point { x: i32, y: i32 }

enum E { A(i32), B(String), None }

fn sum(p: Point) -> i32 {
  return p.x + p.y;
}

fn main() -> i32 {
  let mut p: Point = Point { x: 1, y: 2 };
  p.x = p.x + 1;

  let e: E = E.A(sum(p));
  let out: i32 = match e {
    E.A(v) => v,
    E.B(s) => 0,
    E.None => 0,
  };

  assert(out == 4);
  return out;
}

