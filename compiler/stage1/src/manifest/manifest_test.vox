import "std/testing" as t
import "manifest" as m

fn test_manifest_parse_deps_path() -> () {
  let src: String = "[package]\nname = \"app\"\n\n[dependencies]\nfoo = { path = \"../foo\" }\n";
  let r: m.ParseResult = m.parse(src);
  t.assert(r.ok);
  t.assert_eq(r.m.pkg_name, "app");
  t.assert_eq(r.m.deps.len(), 1);
  let d: m.Dependency = r.m.deps.get(0);
  t.assert_eq(d.name, "foo");
  t.assert_eq(d.path, "../foo");
}

