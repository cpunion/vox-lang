import "std/testing" as t

struct CompoundS { x: i32 }

fn test_std_testing_smoke() -> () {
  t.assert(true);
  t.assert_eq(1 + 1, 2);
  t.assert_eq(true, true);
  t.assert_eq("a", "a");
}

fn test_prelude_fallback_smoke() -> () {
  // Unqualified names fall back to std/prelude.
  assert(true);
}

fn test_bitwise_and_shift_smoke() -> () {
  let a: i32 = 6 & 3;
  let b: i32 = 1 << 4;
  let c: i32 = b >> 2;
  t.assert_eq((a | c) ^ 1, 7);
}

fn test_compound_assign_smoke() -> () {
  let mut x: i32 = 1;
  x += 2;
  x *= 3;
  let mut s: CompoundS = CompoundS { x: 8 };
  s.x >>= 1;
  t.assert_eq(x + s.x, 13);
}
