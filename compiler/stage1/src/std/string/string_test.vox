import "std/testing" as t
import "std/string" as s

fn test_strview_range_to_string_smoke() -> () {
  let v: s.StrView = s.view_range("vox-lang", 0, 3);
  t.assert_eq(s.to_string(v), "vox");
}

fn test_strview_sub_and_len_smoke() -> () {
  let base: s.StrView = s.view_all("vox-lang");
  let mid: s.StrView = s.sub(base, 4, 8);
  t.assert_eq(s.to_string(mid), "lang");

  let v: s.StrView = s.view_range("vox-lang", 1, 4);
  t.assert_eq(s.len(v), 3);
}

fn test_strview_predicates_smoke() -> () {
  let v0: s.StrView = s.view_range("vox-lang", 0, 3);
  t.assert(s.starts_with(v0, "vo"));

  let v1: s.StrView = s.view_range("vox-lang", 0, 3);
  t.assert(s.ends_with(v1, "ox"));

  let v2: s.StrView = s.view_range("vox-lang", 2, 2);
  t.assert(s.is_empty(v2));
}

