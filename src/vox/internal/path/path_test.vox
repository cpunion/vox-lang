import "std/testing" as t
import "vox/internal/path" as p

fn test_internal_path_basic_helpers_smoke() -> () {
  t.assert(p.is_alpha_ascii(65));
  t.assert(!p.is_alpha_ascii(47));
  t.assert(p.is_path_sep(47));
  t.assert(p.is_path_sep(92));
}

fn test_internal_path_abs_base_dir_join_smoke() -> () {
  t.assert(p.is_abs_path("/a"));
  t.assert(p.is_abs_path("C:/a"));
  t.assert(!p.is_abs_path("rel/a"));

  t.assert_eq(p.base_name("/a/b.vox"), "b.vox");
  t.assert_eq(p.dirname("/a/b.vox"), "/a");
  t.assert_eq(p.join("/a", "b"), "/a/b");
}

fn test_internal_path_slash_and_dirname_slash_smoke() -> () {
  t.assert_eq(p.to_forward_slashes("a\\b\\c"), "a/b/c");
  t.assert_eq(p.to_back_slashes("a/b/c"), "a\\b\\c");
  t.assert_eq(p.join_slash("a\\b", "c"), "a/b/c");
  t.assert_eq(p.dirname_slash("C:\\a\\b\\c"), "C:/a/b");
}

fn test_internal_path_normalize_msys_drive_path_smoke() -> () {
  t.assert_eq(p.normalize_msys_drive_path("/c/Users/a"), "c:/Users/a");
  t.assert_eq(p.normalize_msys_drive_path("/notdrive"), "/notdrive");
}
