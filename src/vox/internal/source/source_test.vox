import "std/string" as s
import "std/testing" as t
import "vox/internal/source" as srcw

fn test_walk_vox_files_smoke() -> () {
  let xs: Vec[String] = srcw.walk_vox_files(".");
  t.assert_with(xs.len() > 0, "expected non-empty source set");
  let mut found: bool = false;
  let mut i: i32 = 0;
  while i < xs.len() {
    if s.ends_with(s.view_all(xs.get(i)), "src/main.vox") {
      found = true;
      i = xs.len();
    } else {
      i = i + 1;
    }
  }
  t.assert_with(found, "expected src/main.vox in source set");
}
